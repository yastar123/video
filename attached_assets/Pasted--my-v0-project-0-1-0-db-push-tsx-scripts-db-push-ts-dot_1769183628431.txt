
> my-v0-project@0.1.0 db:push
> tsx scripts/db-push.ts

[dotenv@17.2.3] injecting env (10) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }
Starting database push...
Database push failed: error: insert or update on table "videos" violates foreign key constraint "videos_category_id_fkey"
    at /var/www/video.seyiki.com/node_modules/pg/lib/client.js:588:17
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async query (/var/www/video.seyiki.com/lib/postgres.ts:25:12)
    at async dbPush (/var/www/video.seyiki.com/scripts/db-push.ts:11:7) {
  length: 263,
  severity: 'ERROR',
  code: '23503',
  detail: 'Key (category_id)=(4) is not present in table "categories".',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'videos',
  column: undefined,
  dataType: undefined,
  constraint: 'videos_category_id_fkey',
  file: 'ri_triggers.c',
  line: '2528',
  routine: 'ri_ReportViolation'
}

> my-v0-project@0.1.0 seed
> tsx scripts/seed-runner.ts

[dotenv@17.2.3] injecting env (10) from .env -- tip: ğŸ” encrypt with Dotenvx: https://dotenvx.com
Starting seed...
Users seeded successfully
Seed completed successfully

> my-v0-project@0.1.0 build
> next build

   â–² Next.js 15.5.7
   - Environments: .env

   Creating an optimized production build ...
 âœ“ Compiled successfully in 9.3s
   Skipping validation of types
 âœ“ Linting
   Collecting page data  .[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
 âœ“ Collecting page data
[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ“¡ add observability to secrets: https://dotenvx.com/ops
 âœ“ Generating static pages (30/30)
 âœ“ Collecting build traces
 âœ“ Finalizing page optimization

Route (app)                                 Size  First Load JS
â”Œ Æ’ /                                    4.91 kB         116 kB
â”œ â—‹ /_not-found                             1 kB         103 kB
â”œ â—‹ /admin                                 164 B         102 kB
â”œ â—‹ /admin/ads                           4.01 kB         106 kB
â”œ â—‹ /admin/banners                       2.82 kB         105 kB
â”œ â—‹ /admin/categories                    2.43 kB         105 kB
â”œ â—‹ /admin/dashboard                      117 kB         219 kB
â”œ â—‹ /admin/membership                     1.7 kB         104 kB
â”œ â—‹ /admin/users                          2.8 kB         105 kB
â”œ â—‹ /admin/videos                        4.97 kB         107 kB
â”œ Æ’ /api/admin/videos                      164 B         102 kB
â”œ Æ’ /api/auth/google                       164 B         102 kB
â”œ Æ’ /api/auth/login                        164 B         102 kB
â”œ Æ’ /api/auth/logout                       164 B         102 kB
â”œ Æ’ /api/banners                           164 B         102 kB
â”œ Æ’ /api/categories                        164 B         102 kB
â”œ Æ’ /api/membership/manage                 164 B         102 kB
â”œ Æ’ /api/membership/upload                 164 B         102 kB
â”œ Æ’ /api/objects/[...path]                 164 B         102 kB
â”œ Æ’ /api/promotions                        164 B         102 kB
â”œ Æ’ /api/seed                              164 B         102 kB
â”œ Æ’ /api/uploads/file                      164 B         102 kB
â”œ Æ’ /api/uploads/request-url               164 B         102 kB
â”œ Æ’ /api/users                             164 B         102 kB
â”œ Æ’ /api/videos                            164 B         102 kB
â”œ â—‹ /auth/login                          1.84 kB         107 kB
â”œ â—‹ /kategori                            3.76 kB         115 kB
â”œ â—‹ /profile                             3.12 kB         109 kB
â”” â— /video/[id]                          3.46 kB         115 kB
    â”” /video/111
+ First Load JS shared by all             102 kB
  â”œ chunks/493-e6ba6b5016936a6e.js       45.4 kB
  â”œ chunks/4bd1b696-1c88c00269cf164c.js  54.2 kB
  â”” other shared chunks (total)          2.55 kB


Æ’ Middleware                               34 kB

â—‹  (Static)   prerendered as static content
â—  (SSG)      prerendered as static HTML (uses generateStaticParams)
Æ’  (Dynamic)  server-rendered on demand

Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [all](ids: [ 0, 2, 12, 15, 16, 21 ])
[PM2] [iot-backend](0) âœ“
[PM2] [seyiki-main](2) âœ“
[PM2] [survei-seyiki](15) âœ“
[PM2] [seyiki-docs](12) âœ“
[PM2] [lhpp-seyiki](16) âœ“
[PM2] [video-seyiki](21) âœ“
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name               â”‚ mode     â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ memory   â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ iot-backend        â”‚ fork     â”‚ 133  â”‚ online    â”‚ 0%       â”‚ 50.8mb   â”‚
â”‚ 16 â”‚ lhpp-seyiki        â”‚ cluster  â”‚ 15   â”‚ online    â”‚ 0%       â”‚ 48.5mb   â”‚
â”‚ 12 â”‚ seyiki-docs        â”‚ fork     â”‚ 54   â”‚ online    â”‚ 0%       â”‚ 47.8mb   â”‚
â”‚ 2  â”‚ seyiki-main        â”‚ fork     â”‚ 55   â”‚ online    â”‚ 0%       â”‚ 46.9mb   â”‚
â”‚ 15 â”‚ survei-seyiki      â”‚ cluster  â”‚ 481  â”‚ online    â”‚ 0%       â”‚ 48.7mb   â”‚
â”‚ 21 â”‚ video-seyiki       â”‚ cluster  â”‚ 8    â”‚ online    â”‚ 0%       â”‚ 38.2mb   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
root@server:/var/www/video.seyiki.com#